(this["webpackJsonpsurvey-react-typescript"]=this["webpackJsonpsurvey-react-typescript"]||[]).push([[0],{125:function(e,t,n){},129:function(e,t,n){},132:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(29),r=n.n(i),l=(n(125),n(187)),o=n(199),s=n(198),j=n(200),u=n(196),d=n(197),b=n(103),h=n(195),x=n(99),O=n(16),m=n(17),v=n(13),f=n(57),p=function(){return Object(f.b)()},y=f.c,g=(n(129),n(70)),k=Object(g.b)({name:"survey",initialState:[],reducers:{save:function(e,t){e.push(t.payload)},saveSurvey:function(e,t){console.log("payload: ",t.payload)}}}),w=k.actions,C=w.save,S=w.saveSurvey,F=function(e){return e.survey},_=k.reducer,q=n(205),N=n(207),W=n(190),T=n(188),z=n(147),A=n(202),B=n(192),I=n(2),L=function(){var e=p(),t=y(F),n=Object(c.useRef)(null),a=Object(c.useState)([]),i=Object(v.a)(a,2),r=i[0],l=i[1],o=Object(c.useState)(!0),j=Object(v.a)(o,2),u=j[0],b=j[1],h=Object(c.useState)(!1),x=Object(v.a)(h,2),O=x[0],f=x[1],g=Object(c.useState)(!1),k=Object(v.a)(g,2),w=(k[0],k[1],function(e,t,n){var c=e.target.value,a=t,i=!(!r||!r.length)&&r.find((function(e){return e.title===t.title})),o="checkbox"===t.typeField;if(!i&&!o)return a.answer=c,void l([].concat(Object(m.a)(r),[a]));a.answer=c;var s=r.filter((function(e){return e.title===a.title&&(e.answer=c),e}));s&&l(s)}),C=function(e,t){var c=e.name,a=e.title,i=e.typeField,o=e.children,s=e.answer,j={text:function(){return Object(I.jsx)("div",{children:Object(I.jsx)(T.a,{id:"answer_".concat(t),fullWidth:!0,margin:"normal",variant:"filled",name:"question_".concat(t),label:a,value:s,onChange:function(e){return w(e,{name:c,title:a,typeField:i,children:o,answer:s})}})},t)},file:function(){var e;return Object(I.jsxs)("div",{children:[Object(I.jsx)(q.a,{htmlFor:"answer_".concat(t),children:a}),Object(I.jsxs)(N.a,{variant:"outlined",component:"label",children:["Upload File",Object(I.jsx)("input",{hidden:!0,ref:n,id:"answer_".concat(t),type:i,name:"question_".concat(t),value:s,onChange:function(e){return w(e,{name:c,title:a,typeField:i,children:o,answer:s})}})]}),n&&n.current&&(null===(e=n.current)||void 0===e?void 0:e.value)]},t)},checkbox:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(q.a,{htmlFor:"answer_".concat(t),children:a}),o&&o.map((function(e,n){var j=e.title;return Object(I.jsx)(z.a,{children:Object(I.jsx)(A.a,{control:Object(I.jsx)(B.a,{id:"answer_".concat(t,"-").concat(n),onChange:function(e){return function(e,t,n){var c=e.target.checked,a=r.findIndex((function(e){return e.title===t.title})),i=r;i[a].children[n].checked=c,l(Object(m.a)(i))}(e,{name:c,title:a,typeField:i,children:o,answer:s},n)}}),label:j})},t)}))]},t)}};return i&&j[i]&&j[i]()};return Object(c.useEffect)((function(){l(t),b(!1)}),[]),u?Object(I.jsx)("div",{children:"Loading..."}):Object(I.jsxs)("div",{className:"survey",children:[Object(I.jsx)(d.a,{component:"h1",variant:"h4",align:"center",children:"Lockebio Survey"}),Object(I.jsx)(s.a,{sx:{mb:4,mt:4}}),O?Object(I.jsx)("div",{className:"survey__modal",onClick:function(){return f(!1)},children:function(){if(r)return Object(I.jsx)("ul",{children:r.map((function(e,t){return"checkbox"===e.typeField?Object(I.jsxs)("li",{children:[Object(I.jsx)("span",{children:e.title}),Object(I.jsx)("ul",{className:"sublist",children:e.children.map((function(e,t){return Object(I.jsxs)("li",{children:[e.title,": ",!0===e.checked?"Yes":"No"]},t)}))})]},t):Object(I.jsxs)("li",{children:[Object(I.jsx)("span",{children:e.title}),Object(I.jsx)("span",{children:e.answer})]},t)}))})}()}):null,Object(I.jsx)("div",{className:"survey__list",children:function(){if(r&&(!r||r.length))return r.map((function(e,t){return C(e,t)}))}()}),r&&r.length?Object(I.jsx)(N.a,{variant:"contained",onClick:function(){e(S(r)),setTimeout((function(){f(!0)}),2e3)},children:"Resume Survey"}):Object(I.jsx)(W.a,{severity:"info",children:"Sorry, there are no surveys available yet!"})]})},Q=n(45),R=n(206),E=n(193),J=n(208),P=n(191),U=n(186),M=n(201),V=n(183),Y=n(203),$=n(97),D=n.n($),G=n(204),H=n(98),K=n.n(H),X=n(185),Z=(n(132),function(){var e=Object(c.useState)(""),t=Object(v.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(v.a)(i,2),l=r[0],o=r[1],j=Object(c.useState)({title:"",name:"",typeField:"",children:[],answer:""}),u=Object(v.a)(j,2),b=u[0],h=u[1],x=p(),O=y(F),f=function(){return Object(I.jsx)(Y.a,{"aria-label":"Add",size:"small",onClick:function(){return S("checkbox",n)},children:Object(I.jsx)(D.a,{fontSize:"small"})})},g=function(e){var t=e.target,n=t.name,c=t.value,a={};a[n]=c,h(Object(Q.a)(Object(Q.a)({},b),a))},k=function(e){var t=e.target,n=t.name,c=t.value;n&&(h({title:"",name:n,answer:"",typeField:c,children:[]}),o(c))},w=function(e,t){if(b&&(!b||b.children)){var n=b.children.filter((function(e){return e!=t}));h(Object(Q.a)(Object(Q.a)({},b),{},{children:n}))}},S=function(e,t){h(Object(Q.a)(Object(Q.a)({},b),{},{children:[].concat(Object(m.a)(b.children),[{title:"".concat(t),checked:!1}])}))};return Object(I.jsxs)("div",{className:"admin",children:[Object(I.jsx)(d.a,{component:"h1",variant:"h4",align:"center",children:"Admin"}),Object(I.jsx)(d.a,{component:"h5",align:"center",children:"Create your survey"}),Object(I.jsxs)(s.a,{sx:{mb:4,mt:4},children:[Object(I.jsxs)(M.a,{component:"fieldset",children:[Object(I.jsx)(V.a,{component:"legend",children:"Choose the type of your question"}),Object(I.jsxs)(U.a,{"aria-label":"gender",defaultValue:"female",name:"radio-buttons-group",children:[Object(I.jsx)(A.a,{id:"text",control:Object(I.jsx)(P.a,{name:"typequestion",value:"text",onChange:k}),label:"Text"}),Object(I.jsx)(A.a,{id:"upload",control:Object(I.jsx)(P.a,{name:"typequestion",value:"file",onChange:k}),label:"Upload"}),Object(I.jsx)(A.a,{id:"checkbox",control:Object(I.jsx)(P.a,{name:"typequestion",value:"checkbox",onChange:k}),label:"Checkbox"})]})]}),Object.keys(b).length?function(e){var t=e.title,n=e.children,c={text:function(){return Object(I.jsx)(T.a,{fullWidth:!0,margin:"normal",variant:"outlined",name:"title",label:"Type the question here for text",value:t,onChange:g})},file:function(){return Object(I.jsx)(T.a,{fullWidth:!0,margin:"normal",variant:"outlined",name:"title",label:"Type the question here for upload",value:t,onChange:g})},checkbox:function(){return Object(I.jsxs)("div",{className:"question question--checkbox",children:[Object(I.jsx)(T.a,{fullWidth:!0,margin:"normal",variant:"outlined",name:"title",label:"Type the question here for checkbox",value:t,onChange:g}),n&&n.map((function(e,t){return Object(I.jsx)(z.a,{children:Object(I.jsx)(A.a,{control:Object(I.jsx)(B.a,{value:e.title,onChange:k}),label:Object(I.jsxs)(I.Fragment,{children:[e.title,Object(I.jsx)(Y.a,{"aria-label":"Remove",size:"small",onClick:function(){return w("checkbox",e)},children:Object(I.jsx)(K.a,{sx:{color:X.a[500]},fontSize:"small"})})]})})},t)})),Object(I.jsx)("div",{className:"question__childadd",children:Object(I.jsx)(T.a,{margin:"dense",size:"small",variant:"outlined",name:"title",label:"Type the option label",InputProps:{endAdornment:Object(I.jsx)(f,{})},onChange:function(e){return a(e.target.value)}})})]})}};return l?c[l]&&c[l]():null}(b):Object(I.jsx)("div",{children:"No Question Selected."}),Object(I.jsx)(G.a,{sx:{mb:2,mt:2},children:Object(I.jsx)(N.a,{variant:"contained",onClick:function(){b&&x(C(b))},children:"Save"})})]}),O.length?Object(I.jsxs)(s.a,{children:[Object(I.jsx)("hr",{}),Object(I.jsx)(d.a,{component:"h2",variant:"h5",align:"center",children:"Questions saved"}),Object(I.jsx)(R.a,{disablePadding:!0,children:O.map((function(e,t){var n=e.title,c=e.typeField,a=e.children;return Object(I.jsxs)(E.a,{sx:{py:1,px:0},children:[Object(I.jsx)(J.a,{primary:"Question ".concat(t+1,": ").concat(n),secondary:"Answer type: ".concat(c)}),Object(I.jsx)("ul",{children:a&&(null===a||void 0===a?void 0:a.map((function(e,t){var n=e.title;return Object(I.jsx)("li",{children:"option ".concat(t+1,": ").concat(n)},t)})))})]},t)}))})]}):null]})});var ee=function(){var e=Object(b.a)();return Object(I.jsxs)(h.a,{theme:e,children:[Object(I.jsx)(l.a,{}),Object(I.jsx)(o.a,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},children:Object(I.jsx)(j.a,{children:Object(I.jsx)(d.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Lockebio Assessment"})})}),Object(I.jsx)(s.a,{component:"main",maxWidth:"sm",sx:{mb:4},children:Object(I.jsx)(u.a,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:Object(I.jsx)(x.a,{children:Object(I.jsxs)(O.c,{children:[Object(I.jsx)(O.a,{path:"/",exact:!0,component:L}),Object(I.jsx)(O.a,{path:"/admin",exact:!0,component:Z})]})})})})]})},te=n(69),ne=n(20),ce=n(101),ae=n.n(ce),ie=n(55),re={key:"root",storage:ae.a},le=Object(ne.b)({survey:_}),oe=Object(te.a)(re,le),se=Object(g.a)({reducer:oe,devTools:!1,middleware:[ie.a]});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je=n(102),ue=Object(te.b)(se);r.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(f.a,{store:se,children:Object(I.jsx)(je.a,{loading:null,persistor:ue,children:Object(I.jsx)(ee,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[137,1,2]]]);
//# sourceMappingURL=main.b208519b.chunk.js.map