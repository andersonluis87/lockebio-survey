{"version":3,"sources":["app/hooks.ts","reduxSlices/SurveySlice.ts","pages/Survey/index.tsx","pages/Admin/index.tsx","App.tsx","app/store.ts","serviceWorker.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","surveySlice","createSlice","name","initialState","reducers","save","state","action","push","payload","saveSurvey","console","log","actions","Survey","survey","SurveyApp","dispatch","surveyState","uploadFileInput","useRef","useState","finalSurvey","setFinalSurvey","loading","setLoading","open","setOpen","handleOpen","handleClose","style","position","top","left","transform","width","bgcolor","border","boxShadow","p","getQuestions","inputHandler","e","objectQuestion","childActive","value","target","objectUpdated","isExistingObject","length","find","obj","title","isMultiSelect","typeField","newArray","filter","answer","templateQuestion","index","children","templates","TextField","id","fullWidth","margin","variant","label","onChange","InputLabel","htmlFor","Button","component","hidden","ref","type","current","map","indexChild","titleChild","FormGroup","FormControlLabel","control","Checkbox","question","checked","indexQuestion","findIndex","arrayFinalSurvey","inputHandlerCheckbox","useEffect","className","Typography","align","Container","sx","mb","mt","onClick","Modal","onClose","Box","sv","ch","resumeSurvey","renderQuestions","setTimeout","Alert","severity","Admin","newChildName","setNewChildName","typeQuestionSelected","setTypeQuestionSelected","typeQuestionObject","setTypeQuestionObject","AddButton","IconButton","size","addChild","fontSize","inputHandlerFields","fieldUpdated","removeChild","parent","child","typeQuestionObjectUpdated","FormControl","FormLabel","RadioGroup","defaultValue","Radio","Object","keys","options","template","color","pink","InputProps","endAdornment","List","disablePadding","ListItem","py","px","flexDirection","justifyContent","alignItems","ListItemText","primary","secondary","App","theme","createTheme","ThemeProvider","CssBaseline","AppBar","elevation","borderBottom","t","palette","divider","Toolbar","noWrap","maxWidth","Paper","my","xs","md","path","exact","setAutoFreeze","persistConfig","key","storage","combineReducers","surveyReducer","persistedReducer","persistReducer","store","configureStore","reducer","devTools","middleware","thunk","Boolean","window","location","hostname","match","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.e54cb615.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState } from '../app/store';\nimport { Options } from '../types/Survey';\n\nconst initialState: Array<Options> = [];\n\nexport const surveySlice = createSlice({\n  name: 'survey',\n  initialState,\n  reducers: {\n    save: (state, action: PayloadAction<Options>) => {\n      state.push(action.payload);\n    },\n    saveSurvey: (state, action: PayloadAction<Array<Options>>) => {\n      console.log('payload: ', action.payload);\n    }\n  },\n});\n\nexport const { save, saveSurvey } = surveySlice.actions;\n\nexport const Survey = (state: RootState) => state.survey;\n\nexport default surveySlice.reducer;","import { ChangeEvent, useEffect, useRef, useState } from 'react';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport './styles.scss';\nimport { Survey, saveSurvey } from '../../reduxSlices/SurveySlice';\nimport { Options, Child } from '../../types/Survey';\n\n// Material UI\nimport { Button, InputLabel, Modal, Alert, Box } from '@mui/material';\nimport { Typography, Container, TextField, Checkbox, FormGroup, FormControlLabel} from '@mui/material';\n\nconst SurveyApp = () => {\n  const dispatch = useAppDispatch();\n  const surveyState: any = useAppSelector(Survey);\n\n  const uploadFileInput: any = useRef(null);\n  const [finalSurvey, setFinalSurvey] = useState<Array<Options>>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  //Modal\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const style = {\n    position: 'absolute' as 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    width: 600,\n    bgcolor: 'background.paper',\n    border: '2px solid #000',\n    boxShadow: 24,\n    p: 4,    \n  };\n\n  const getQuestions = () => {\n    setFinalSurvey(surveyState);\n    setLoading(false);\n  };\n\n  const renderQuestions = () => {\n    if (!finalSurvey || finalSurvey && !finalSurvey.length) return\n\n    return finalSurvey.map((sv: any, index: number) => {\n      return templateQuestion(sv, index);\n    })\n  }\n\n  const resumeSurvey = () => {\n    if (!finalSurvey) return\n  \n    return (\n      <div>      \n        <Button onClick={handleOpen}>Open modal</Button>\n\n        <Modal\n          open={open}\n          onClose={handleClose}\n          aria-labelledby=\"modal-modal-title\"\n          aria-describedby=\"modal-modal-description\"\n        >\n          <Box sx={style}>\n            <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\n              Thanks for answering!\n            </Typography>\n            <Typography id=\"modal-modal-description\" sx={{ mt: 2 }}>\n              This is your summary:\n              <ul>\n                {finalSurvey.map((sv: Options, index: number) => {\n                  if (sv.typeField === 'checkbox') {\n                    return (\n                      <li key={index}>\n                        <span><strong>{sv.title}</strong></span>\n                        <ul className=\"sublist\">{sv.children!.map((ch: Child, index: number) => {\n                          return (\n                            <li key={index}>{ch.title}: {ch.checked === true ? 'Yes' : 'No'}</li>\n                          )\n                        })}\n                        </ul>\n                      </li>\n                    )\n                  }\n\n                  return (\n                    <li key={index}>\n                      <span><strong>{sv.title}&nbsp;</strong></span>\n                      <span>{sv.answer}</span>\n                    </li>\n                  )\n                })}\n              </ul>\n            </Typography>\n          </Box>\n        </Modal>\n      </div>\n    );\n  }\n   \n  const send = () => {\n    dispatch(saveSurvey(finalSurvey));\n\n    setTimeout(() => {\n      handleOpen()\n    }, 2000);\n  }\n\n  const inputHandler = (e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>, objectQuestion: Options, childActive?: number) => {\n    const { value } = e.target;\n\n    let objectUpdated = objectQuestion;\n    let isExistingObject = finalSurvey && finalSurvey.length ? finalSurvey.find((obj) => obj.title === objectQuestion.title) : false;\n    let isMultiSelect = objectQuestion.typeField === 'checkbox';\n\n    if (!isExistingObject) {\n      if (!isMultiSelect) {\n        objectUpdated[\"answer\"] = value;\n        setFinalSurvey([...finalSurvey, objectUpdated]);  // Array push\n        return\n      }\n    }\n\n    objectUpdated[\"answer\"] = value;\n\n    let newArray: any = finalSurvey.filter((obj) => {\n      if (obj.title === objectUpdated.title) obj.answer = value;\n      return obj;\n    });\n\n    newArray && setFinalSurvey(newArray);\n  }\n\n  const inputHandlerCheckbox = (e: ChangeEvent<HTMLInputElement>, question: Options, childActive: number) => {\n    const { checked } = e.target;\n\n    let indexQuestion = finalSurvey.findIndex((survey: any) => survey.title === question.title);\n\n    let arrayFinalSurvey: Array<Options> = finalSurvey;\n    arrayFinalSurvey[indexQuestion].children![childActive].checked = checked;\n\n    setFinalSurvey([...arrayFinalSurvey]);\n  }\n\n  const templateQuestion = ({ name, title, typeField, children, answer }: Options, index: number) => {\n    const templates: any = {\n      \"text\": () => (\n        <div key={index}>\n          <TextField \n            id={`answer_${index}`}\n            fullWidth\n            margin=\"normal\" \n            variant=\"filled\" \n            name={`question_${index}`}\n            label={title} \n            value={answer} \n            onChange={(e) => inputHandler(e, { name, title, typeField, children, answer })} \n          />\n        </div>\n      ),\n      \"file\": () => (\n        <div key={index}>\n          <InputLabel htmlFor={`answer_${index}`}>{title}</InputLabel>\n          <Button\n            variant=\"outlined\"\n            component=\"label\"\n          >\n            Upload File\n            <input hidden ref={uploadFileInput} id={`answer_${index}`} type={typeField} name={`question_${index}`} value={answer} onChange={(e) => inputHandler(e, { name, title, typeField, children, answer })} />\n          </Button>\n          {uploadFileInput && uploadFileInput.current && uploadFileInput.current?.value}\n        </div>\n      ),\n      \"checkbox\": () => (\n        <div key={index}>\n          <InputLabel htmlFor={`answer_${index}`}>{title}</InputLabel>\n          {children && children.map(({ title: titleChild }: Child, indexChild) => (\n            <FormGroup key={indexChild}>\n              <FormControlLabel \n                control={\n                  <Checkbox \n                    id={`answer_${index}-${indexChild}`}\n                    onChange={(e) => inputHandlerCheckbox(e, { name, title, typeField, children, answer }, indexChild)} />\n                } \n                label={titleChild} />\n            </FormGroup>\n          ))}\n        </div>\n      )\n    }\n\n    return typeField && templates[typeField] && templates[typeField]();\n  };\n\n  useEffect(() => {\n    getQuestions();\n  }, [getQuestions]);\n\n  return (\n    loading ? <div>Loading...</div> :\n      <div className=\"survey\">\n        <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n          Lockebio Survey\n        </Typography>\n\n        <Container sx={{ mb: 4, mt: 4 }}>\n        </Container>\n        {open ?\n            resumeSurvey()\n          : null\n        }\n        <div className=\"survey__list\">\n          {renderQuestions()}\n        </div>\n        {finalSurvey && finalSurvey.length ? <Button variant=\"contained\" onClick={send}>Resume Survey</Button> : \n          <Alert severity=\"info\">Sorry, there are no surveys available yet!</Alert>\n        }\n      </div>\n  )\n}\n\nexport default SurveyApp;","import { ChangeEvent, useState } from 'react';\nimport { Child, Options } from '../../types/Survey';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { Survey, save } from '../../reduxSlices/SurveySlice';\nimport { Button, List, ListItem, ListItemText, Typography } from '@mui/material';\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport TextField from '@mui/material/TextField';\nimport IconButton from '@mui/material/IconButton';\nimport AddIcon from '@mui/icons-material/Add';\nimport Container from '@mui/material/Container';\nimport Box from '@mui/material/Box';\nimport FormGroup from '@mui/material/FormGroup';\nimport Checkbox from '@mui/material/Checkbox';\nimport HighlightOffIcon from '@mui/icons-material/HighlightOff';\nimport { pink } from '@mui/material/colors';\n\nimport './styles.scss';\n\nconst Admin = () => {\n  const [newChildName, setNewChildName] = useState<string>('');\n  const [typeQuestionSelected, setTypeQuestionSelected] = useState<string>('');\n  const [typeQuestionObject, setTypeQuestionObject] = useState<Options>({ title: '', name: '', typeField: '', children: [], answer: '' });\n\n  const dispatch = useAppDispatch();\n  const surveyState = useAppSelector(Survey);\n\n  const AddButton = () => (\n    <IconButton aria-label=\"Add\" size=\"small\" onClick={() => addChild('checkbox', newChildName)}> \n      <AddIcon fontSize=\"small\" />\n    </IconButton>\n  )\n\n  const templateQuestion = (options: Options) => {\n    const { title, children } = options;\n\n    const template: any = {\n      'text': () => (\n          <TextField fullWidth margin=\"normal\" variant=\"outlined\" name=\"title\" label=\"Type the question here for text\" value={title} onChange={inputHandlerFields}  />\n      ),\n      'file': () => (\n          <TextField fullWidth margin=\"normal\" variant=\"outlined\" name=\"title\" label=\"Type the question here for upload\" value={title} onChange={inputHandlerFields}  />\n      ),\n      'checkbox': () => (\n        <div className=\"question question--checkbox\">\n          <TextField fullWidth margin=\"normal\" variant=\"outlined\" name=\"title\" label=\"Type the question here for checkbox\" value={title} onChange={inputHandlerFields}  />\n                    \n          {children && children.map((child: Child, index: number) => (\n            <FormGroup key={index}>\n                <FormControlLabel \n                  control={\n                    <Checkbox value={child!.title} onChange={inputHandler}  />\n                  } \n                  label={\n                      <>\n                      {child!.title}\n                      <IconButton aria-label=\"Remove\" size=\"small\" onClick={() => removeChild('checkbox', child)}> \n                        <HighlightOffIcon sx={{ color: pink[500] }} fontSize=\"small\" />\n                      </IconButton>\n                      </>\n                  } />\n            </FormGroup>\n          ))}\n          <div className=\"question__childadd\">\n            <TextField \n              margin=\"dense\" \n              size=\"small\" \n              variant=\"outlined\" \n              name=\"title\" \n              label=\"Type the option label\"\n              InputProps={{endAdornment: <AddButton />}}\n              onChange={(e) => setNewChildName(e.target.value)}  \n            />\n          </div>\n        </div>\n      )\n    };\n\n    return typeQuestionSelected ? template[typeQuestionSelected] && template[typeQuestionSelected]() : null;\n  }\n\n  const renderQuestionSelected = () => {\n    if (!Object.keys(typeQuestionObject).length) return <div>No Question Selected.</div>\n\n    return templateQuestion(typeQuestionObject);\n  }\n\n  const inputHandlerFields = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n\n    const fieldUpdated: any = {};\n    fieldUpdated[name] = value;\n\n    setTypeQuestionObject({ ...typeQuestionObject, ...fieldUpdated });\n  }\n\n  const inputHandler = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n\n    if (!name) return\n\n    setTypeQuestionObject({\n      title: '',\n      name,\n      answer: '',\n      typeField: value,\n      children: []\n    });\n\n    setTypeQuestionSelected(value);\n  }\n\n  const removeChild = (parent: string, child: Child) => {\n    if (!typeQuestionObject || typeQuestionObject && !typeQuestionObject.children) return\n\n    let typeQuestionObjectUpdated = typeQuestionObject.children!.filter((ch) => {\n      return ch != child;\n    });\n\n    setTypeQuestionObject({ ...typeQuestionObject, children: typeQuestionObjectUpdated });\n  }\n\n  const addChild = (parent: string, titleChild: string) => {\n    setTypeQuestionObject({ ...typeQuestionObject, children: [...typeQuestionObject.children!, { title: `${titleChild}`, checked: false }] });\n  }\n\n  const saveSurvey = () => {\n    if (!typeQuestionObject) return\n\n    dispatch(save(typeQuestionObject));\n  }\n\n  return (\n    <div className=\"admin\">\n      <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n        Admin\n      </Typography>\n      <Typography component=\"h5\"  align=\"center\">Create your survey</Typography>\n\n      <Container sx={{ mb: 4, mt: 4 }}>\n        <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">Choose the type of your question</FormLabel>\n          <RadioGroup\n            aria-label=\"gender\"\n            defaultValue=\"female\"\n            name=\"radio-buttons-group\"\n          >\n            <FormControlLabel id=\"text\" control={<Radio name=\"typequestion\" value=\"text\" onChange={inputHandler} />} label=\"Text\"  />\n            <FormControlLabel id=\"upload\" control={<Radio name=\"typequestion\" value=\"file\" onChange={inputHandler} />} label=\"Upload\" />\n            <FormControlLabel id=\"checkbox\" control={<Radio name=\"typequestion\" value=\"checkbox\" onChange={inputHandler} />} label=\"Checkbox\" />\n          </RadioGroup>\n        </FormControl>\n      \n        {renderQuestionSelected()}\n\n        <Box sx={{ mb: 2, mt: 2 }}>\n         <Button variant=\"contained\" onClick={saveSurvey}>Save</Button>\n        </Box>\n      </Container>\n      \n      {surveyState.length ? \n        <Container>\n          <hr />\n          <Typography component=\"h2\" variant=\"h5\" align=\"center\">\n            Questions saved\n          </Typography>\n          <List disablePadding>\n            {surveyState.map(({ title, typeField, children }: Options, index: number) => (\n              <ListItem key={index} sx={{ py: 1, px: 0, flexDirection: 'column', justifyContent: 'flex-start', alignItems: 'flex-start'}}>\n                <ListItemText \n                  primary={`Question ${index+1}: ${title}`} \n                  secondary={`Answer type: ${typeField}`} />\n                <ul>\n                {\n                  children && children?.map(({ title }: Child, index: number) => (\n                      <li key={index}>{`option ${index+1}: ${title}`}</li> \n                    )\n                  )\n                }\n                </ul>\n              </ListItem>\n            ))}\n          </List>\n        </Container>\n        : null\n      } \n    </div>\n  )\n}\n\nexport default Admin;","import React from 'react';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport AppBar from '@mui/material/AppBar';\nimport Container from '@mui/material/Container';\nimport Toolbar from '@mui/material/Toolbar';\nimport Paper from '@mui/material/Paper';\nimport Typography from '@mui/material/Typography';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\n\nimport Survey from './pages/Survey';\nimport Admin from './pages/Admin';\n\nfunction App() {\n  const theme = createTheme();\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AppBar\n        position=\"absolute\"\n        color=\"default\"\n        elevation={0}\n        sx={{\n          position: 'relative',\n          borderBottom: (t) => `1px solid ${t.palette.divider}`,\n        }}\n      >\n        <Toolbar>\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\n            Lockebio Assessment\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Container component=\"main\" maxWidth=\"sm\" sx={{ mb: 4 }}>\n        <Paper variant=\"outlined\" sx={{ my: { xs: 3, md: 6 }, p: { xs: 2, md: 3 } }}>\n          <Router>\n            <Switch>\n              <Route path=\"/\" exact component={Survey}></Route>\n              <Route path=\"/admin\" component={Admin}></Route>\n            </Switch>\n          </Router>\n        </Paper>\n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport surveyReducer from '../reduxSlices/SurveySlice';\n\nimport { persistReducer } from \"redux-persist\";\nimport { combineReducers } from 'redux';\nimport storage from \"redux-persist/lib/storage\";\nimport thunk from 'redux-thunk';\nimport { setAutoFreeze } from 'immer';\n\nsetAutoFreeze(false);\n\nconst persistConfig = {\n  key: 'root',\n  storage\n};\n\nconst reducers = combineReducers({\n  survey: surveyReducer\n});\n\nconst persistedReducer = persistReducer(persistConfig, reducers);\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  devTools: true,\n  middleware: [thunk]\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { persistStore } from \"redux-persist\";\n\nconst persistor = persistStore(store);\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <App />\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}